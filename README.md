# pyVhG
A Python based VHDL app to improve productivity of VHDL designs

# Table of Contents

1. [Application](#application)
2. [Input YAML specification](#input-yaml-specification)
3. [Prerequisites](#prerequisites)
4. [Use Model](#use-model)
5. [Support](#support)
5. [Roadmap](#roadmap)

## Application
Goal of this app is to help VHDL designers to quickly adopt modern
verification technologies. Benefits include:

* Coverage Driven Verification
* Structured logging
* Reusable, Layered testbench components
* Separate testcases from testbench etc.

It is developed in Python. Currently it supports the popular OSVVM 
styled testbenches. If you need a variant such as VUnit, UVVM etc. drop
us a note, we will consider depending on customer interests and bandwidth.

## Input YAML specification
We use YAML file to specify the DUT interface. More details can be found at:

[YAML for VHDL Design interface specification](af_yaml_spec.md)

Given a YAML file as input, this app generates necessary files 
to simulate a given DUT. 

## Prerequisites

Python 3.x
Modelsim - 2020.1 or later
OSVVM recent release

Refer to OSVVM documentation to compile OSVVM library if you need further assistance.
This Python app enables fast compilation and simulation by levearging on 
precompiled OSVVM libraries. Hence, it expects a pointer to the precompiled
OSVVM library as an environment variable: OSVVM_LIB_MTI

In UNIX/WSL, under CSH/TCSH set this as:

setenv OSVVM_LIB_MTI /home/ajeetha/proj/VHDL/OSVVM/git_osvvm/sim_dir/VHDL_LIBS/ModelSim-2020.02/osvvm

In case of BASH/KSH/ZSH:
export OSVVM_LIB_MTI=/home/ajeetha/proj/VHDL/OSVVM/git_osvvm/sim_dir/VHDL_LIBS/ModelSim-2020.02/osvvm


## Use Model


To run a simple demo, do the following steps:

1. cd examples
2. cd up_down_counter
3. python3 ../../py_src/af_pyvhg_osvvm.py -y dut_src/af_up_dn_counter.yml

This should create a bunch of TB files and a sim_dir to run simulations. 

For any new design, please create a YAML file as shown in this example:
dut_src/af_up_dn_counter.yml

Once the step-3 above is done, follow the steps shown in README file 
generated by the app. Quick steps:

4. cd sim_dir
5. make mti

## Support
This is an ongoing development project with active features being added. Feel free to open a GitHub issue if you need new features, bug reports etc. Thanks!

## Roadmap

1. Support for generics
2. Functional coverage
3. Other EDA tools support

